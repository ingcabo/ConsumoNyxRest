

var interceptor = function($q){
return{

		request: function(config){
			
				
				return config;	
		},

		response: function (result) {
           
                return result;
            },
		responseError:function(rejection){
		
			return rejection;	

		}

	}

};




var app = angular.module('angularTable',['angularUtils.directives.dirPagination']);
app.config(function ($httpProvider) { 

$httpProvider.interceptors.push(interceptor);


});

app.controller('listdata',function($scope,$http){

				
					$scope.loadingd = true;	
 					
 				


				
				$scope.idtext3= $scope.myid;;
				$scope.urlt = "http://www.nyxvzla.com/NyxapiRest/index.php/Mquery/compra/";
				$http.get($scope.urlt+$scope.idtext3)
				.success(function(data){
				
			
				$scope.compraT = data.data;
				
				$scope.compraTk = data.track;

				

				if ($scope.compraT[0].estado_compra == 'Aprobada') {
				    $scope.valert = "alert alert-success";
				}else {

					$scope.valert= "alert alert-danger";
				}
						
				})
				.error(function(data){
				
			
				$scope.compraT = data;
				});		








				
				$scope.idtext2= $scope.myid;
				$scope.url = "http://www.nyxvzla.com/NyxapiRest/index.php/Mquery/detallecompra/";
				$http.get($scope.url+$scope.idtext2)
				.success(function(data){

			

				
				$scope.comprasd = data.data;
				
				$scope.loadingd = false;	
				
						
				})
				.error(function(data){
				
				$scope.loadingd = false;
				$scope.comprasd = data;
				});		
		
	



	
				
		
	

	
	});

